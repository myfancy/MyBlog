{"version":3,"sources":["nav.js"],"names":["dropdownOpen","$dropdownLi","$","mouseover","this","addClass","mouseout","removeClass","dropdownHover","document","off","window","width","resize","unbind","bind","window_href","location","href","find","each","attr","indexOf"],"mappings":"AA6BA,QAASA,gBAEL,GAAIC,GAAcC,EAAE,cAEpBD,GAAYE,UAAU,WAClBD,EAAEE,MAAMC,SAAS,UAClBC,SAAS,WACRJ,EAAEE,MAAMG,YAAY,UAO5B,QAASC,iBAEL,GAAIP,GAAcC,EAAE,cAEpBD,GAAYE,UAAU,WAClBF,EAAYM,YAAY,QACxBL,EAAEE,MAAMC,SAAS,WAClBC,SAAS,WACRJ,EAAEE,MAAMG,YAAY,WAhD5BL,EAAE,WACEA,EAAEO,UAAUC,IAAI,8BAMbR,EAAES,QAAQC,QAAU,IACnBZ,eAEAQ,gBAEJN,EAAES,QAAQE,OAAO,WACVX,EAAES,QAAQC,QAAU,KACnBV,EAAE,eAAeY,SACjBZ,EAAE,eAAea,KAAK,YAAYP,mBAElCN,EAAE,eAAeY,SACjBZ,EAAE,eAAea,KAAK,YAAYf,qBAuE9CE,EAAE,WACE,GAAIc,GAAcL,OAAOM,SAASC,IAClChB,GAAE,mBAAmBiB,KAAK,MAAMZ,YAAY,UACnCa,KAAK,WACF,GAAIF,GAAOhB,EAAEE,MAAMe,KAAK,KAAKE,KAAK,OAE9BL,GAAYM,QAAQJ,MAAU,GAC9BhB,EAAEE,MAAMC,SAAS","file":"nav.min.js","sourcesContent":["/**\r\n * 菜单相关事项，响应式代码\r\n */\r\n$(function(){\r\n    $(document).off('click.bs.dropdown.data-api');\r\n    /**\r\n     * 给菜单绑定下拉事件\r\n     * 如果屏幕大于768时才绑定\r\n     * 当屏幕尺寸发生改变的时候，一旦小于768，则解绑事件，一旦大于768则恢复。\r\n     */\r\n    if($(window).width() > 768){\r\n        dropdownOpen();//调用\r\n    }else{\r\n        dropdownHover();\r\n    }\r\n    $(window).resize(function(){\r\n        if($(window).width() < 768){\r\n            $('li.dropdown').unbind();\r\n            $('li.dropdown').bind('mouseover',dropdownHover());\r\n        }else{\r\n            $('li.dropdown').unbind();\r\n            $('li.dropdown').bind('mouseover',dropdownOpen());\r\n        }\r\n    });\r\n});\r\n/**\r\n * 鼠标划过就展开子菜单，免得需要点击才能展开\r\n *\r\n */\r\nfunction dropdownOpen() {\r\n\r\n    var $dropdownLi = $('li.dropdown');\r\n\r\n    $dropdownLi.mouseover(function() {\r\n        $(this).addClass('open');\r\n    }).mouseout(function() {\r\n        $(this).removeClass('open');\r\n    });\r\n}\r\n/**\r\n * 模仿上方添加open后的hover效果\r\n *\r\n */\r\nfunction dropdownHover() {\r\n\r\n    var $dropdownLi = $('li.dropdown');\r\n\r\n    $dropdownLi.mouseover(function() {\r\n        $dropdownLi.removeClass('open');\r\n        $(this).addClass('hover');\r\n    }).mouseout(function() {\r\n        $(this).removeClass('hover');\r\n    });\r\n}\r\n\r\n/**\r\n * 保持菜单当前高亮：\r\n * 手动设置菜单来当前高亮\r\n * 需要两个参数：菜单项的选择器（class或id等），保持高亮用的class（css中定义的）\r\n * //程序逻辑：\r\n * //遍历导航菜单的DOM，得到navConfig = {URL:NAME,URL:NAME}对象\r\n * //得到当前window.herf,判断它对应的菜单，移除所有高亮后，对其添加高亮\r\n *\r\n *\r\n * 此网站逻辑：\r\n * 找到.nav.navbar-nav，遍历得到{url:name}对象，判断当前url\r\n *\r\n * 设置高亮办法：\r\n * 找到对应dom，移除所有的菜单项的高亮class，给当前添加高亮\r\n *\r\n * 判断当前页面属于哪个版块办法：\r\n * 得到当前浏览器URL，\r\n * 指定当前导航菜单DOM的Class或ID，\r\n * 遍历它：当前对象的href如果和当前浏览器url相同，即设为高亮\r\n *\r\n * 实际困难:url可能会带很多参数，这样不可能和菜单里的保持一致。\r\n * 一般网址都是这样的\r\n * http：//www.aaaa.com/xxxx.html[/?id=yyyy]\r\n * http://localhost:8090/MyBlog/about.html[/?id=yyyy]\r\n * http://www.aaa.com/xxxx/yyyy/zzzz\r\n * 而导航链接通常是这样的：\r\n * [/]xxxx.html[?id=yyyy]\r\n * [/]xxxx.html#!yyyy\r\n * [/]xxxx/yyyy\r\n * 他们之间有什么关联呢？\r\n * 需要这样想，排除二次跳转的可能性。\r\n * 在导航链接写的都是相对路径的情况下，当前菜单的href总是包含在当前浏览器url中的。\r\n * （如果导航里链接写的绝对路径（几乎不可能）或者某种特殊原因，不包含在当前浏览器url中，那么就需要手动split一下得到包含的部分，这里先不考虑这种情况了）\r\n *\r\n *\r\n */\r\n\r\n$(function(){\r\n    var window_href = window.location.href;\r\n    $(\".nav.navbar-nav\").find(\"li\").removeClass(\"active\")\r\n            .each(function () {\r\n                var href = $(this).find(\"a\").attr(\"href\");\r\n                //alert(href)\r\n                if (window_href.indexOf(href) !== -1) {\r\n                    $(this).addClass(\"active\");\r\n                }\r\n            });\r\n\r\n    //下面的方法不用了  ---但是也不是没有意义，至少锻炼了编码能力不是吗？\r\n    //主要问题出在思维逻辑上，没有把问题简单化\r\n    //var subName = window.location.href.split(\"MyBlog/\")[1]||window.location.href.split(\"github.io/\")[1];\r\n    //if(subName===undefined) console.error(\"subName未定义！\");\r\n    //var $NavItem =  $(\".nav.navbar-nav\").find(\"li\");\r\n\r\n    //定义导航菜单链接和名字信息--------如果改为自动读取对应html文件中的内容就更好了 --下面已经改好了\r\n    //var navConfig = {\r\n    //    \"about.html?id=introduce\":\"个人简介\",\r\n    //    \"about.html?id=honor\":\"我的相册\",\r\n    //    \"about.html?id=messages\":\"留言板\",\r\n    //    \"about.html?id=contact\":\"联系方式\",\r\n    //    \"news.html\":\"最新文章\",\r\n    //    \"product.html\":\"参与项目\",\r\n    //    \"job.html\":\"工作经历\"\r\n    //};\r\n\r\n    //var navConfig = {};\r\n    //$NavItem.find(\"a\").each(function(i,el){\r\n    //    //alert(el.href+\":\"+el.innerHTML);\r\n    //    var href = el.href.split(\"MyBlog/\")[1]||el.href.split(\"github.io/\")[1];\r\n    //    navConfig[href] = el.innerHTML;\r\n    //});\r\n    //alert(JSON.stringify(navConfig));\r\n\r\n    //if(navConfig[subName]) {\r\n    //    $NavItem.removeClass(\"active\")\r\n    //        .each(function () {\r\n    //            if ($(this).find(\"a\").html().indexOf(navConfig[subName]) !== -1) {\r\n    //                $(this).addClass(\"active\");\r\n    //            }\r\n    //        });\r\n    //}\r\n    //进阶优化：这种是swtich太占代码行数了，相同的代码出现了这么遍，所以将数据用json提取出来。---看上面\r\n    //switch (subName){\r\n    //    case \"about.html?id=introduce\":\r\n    //        $NavItem.removeClass(\"active\")\r\n    //            .each(function(){\r\n    //                if($(this).find(\"a\").html().indexOf(\"个人简介\") !== -1){\r\n    //                    $(this).addClass(\"active\");\r\n    //                }\r\n    //            });\r\n    //        return;\r\n    //    case \"about.html?id=honor\":\r\n    //        $NavItem.removeClass(\"active\")\r\n    //            .each(function(){\r\n    //                if($(this).find(\"a\").html().indexOf(\"我的相册\") !== -1){\r\n    //                    $(this).addClass(\"active\");\r\n    //                }\r\n    //            });\r\n    //        return;\r\n    //    case \"about.html?id=messages\":\r\n    //        $NavItem.removeClass(\"active\")\r\n    //            .each(function(){\r\n    //                if($(this).find(\"a\").html().indexOf(\"留言板\") !== -1){\r\n    //                    $(this).addClass(\"active\");\r\n    //                }\r\n    //            });\r\n    //        return;\r\n    //    case \"about.html?id=contact\":\r\n    //        $NavItem.removeClass(\"active\")\r\n    //            .each(function(){\r\n    //                if($(this).find(\"a\").html().indexOf(\"联系方式\") !== -1){\r\n    //                    $(this).addClass(\"active\");\r\n    //                }\r\n    //            });\r\n    //        return;\r\n    //    case \"news.html\":\r\n    //        $NavItem.removeClass(\"active\")\r\n    //            .each(function(){\r\n    //                if($(this).find(\"a\").html().indexOf(\"最新文章\") !== -1){\r\n    //                    $(this).addClass(\"active\");\r\n    //                }\r\n    //            });\r\n    //        return;\r\n    //    case \"product.html\":\r\n    //        $NavItem.removeClass(\"active\")\r\n    //            .each(function(){\r\n    //                if($(this).find(\"a\").html().indexOf(\"参与项目\") !== -1){\r\n    //                    $(this).addClass(\"active\");\r\n    //                }\r\n    //            });\r\n    //        return;\r\n    //    case \"job.html\":\r\n    //        $NavItem.removeClass(\"active\")\r\n    //            .each(function(){\r\n    //                if($(this).find(\"a\").html().indexOf(\"工作经历\") !== -1){\r\n    //                    $(this).addClass(\"active\");\r\n    //                }\r\n    //            });\r\n    //        return;\r\n    //    default:\r\n    //        //console.log(subName);\r\n    //        return;\r\n    //}\r\n});"]}