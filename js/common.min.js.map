{"version":3,"sources":["common.js"],"names":["document","documentMode","ieversion","getElementsByTagName","className","$","ready","newTabObj","url","location","toString","xhtab","indexOf","find","split","tab","html","css","on","e","href","window","target","hash","activeTab","text","fn","extend","animateCss","animationName","animationEnd","this","addClass","one","removeClass","jQuery"],"mappings":"CAIA,WACOA,SAASC,cACRC,UAAY,KAAKF,SAASC,aAC1BD,SAASG,qBAAqB,QAAQ,GAAGC,UAAYF,WAErDF,SAASG,qBAAqB,QAAQ,GAAGC,UAAY,SAsC7DC,EAAEL,UAAUM,MAAM,WAEd,GAEIC,GAFAC,EAAMR,SAASS,SAASC,WACxBC,EAAQN,EAAE,SAQVG,GAAII,QAAQ,MAAM,EAClBL,EAAYI,EAAME,KAAK,YAAeL,EAAIM,MAAM,KAAK,GAAG,MAAMC,IAAI,QAC5DP,EAAII,QAAQ,QAAQ,IAC1BL,EAAYI,EAAME,KAAK,YAAeL,EAAIM,MAAM,QAAQ,GAAG,MAAMC,IAAI,SAGtER,GACCF,EAAE,0BAA0BW,KAAKT,EAAUS,QAG5CT,GAA6B,QAAlBA,EAAUS,QACpBX,EAAE,gBAAgBY,IAAI,aAAa,WAAWA,IAAI,gBAAgB,QAItEN,EAAME,KAAK,wBAAwBK,GAAG,eAAgB,SAAUC,GAI5D,GAAIC,GAAOC,OAAOZ,SAASW,IAC3BA,GAAOA,EAAKR,QAAQ,MAAMQ,EAAKN,MAAM,MAAM,GAAGM,EAC9CC,OAAOZ,SAASW,KAAQA,EAAK,KAAKD,EAAEG,OAAOC,KAAKT,MAAM,KAAK,EAE3D,IAAIU,GAAYnB,EAAEc,EAAEG,QAAQG,MAE5BpB,GAAE,0BAA0BW,KAAKQ,GAEnB,QAAXA,EACCnB,EAAE,gBAAgBY,IAAI,aAAa,WAAWA,IAAI,gBAAgB,QAElEZ,EAAE,gBAAgBY,IAAI,aAAa,UAAUA,IAAI,gBAAgB,cAQ7E,SAAUZ,GACNA,EAAEqB,GAAGC,QACDC,WAAY,SAAUC,GAClB,GAAIC,GAAe,8EACnBzB,GAAE0B,MAAMC,SAAS,YAAcH,GAAeI,IAAIH,EAAc,WAC5DzB,EAAE0B,MAAMG,YAAY,YAAcL,SAI/CM","file":"common.min.js","sourcesContent":["/**\r\n * 更简单的写法\r\n * 只判断ie文档模式\r\n */\r\n(function(){\r\n    if(document.documentMode){\r\n        ieversion = \"ie\"+document.documentMode;\r\n        document.getElementsByTagName(\"html\")[0].className = ieversion;\r\n    }else {\r\n        document.getElementsByTagName(\"html\")[0].className = \"w3c\";\r\n    }\r\n})();\r\n\r\n\r\n/**\r\n * Javascript to enable link to tab\r\n * 1、检测URL，实现通过URL传参（?id=item1）或（?id=item1#item2?nojump），自动打开指定标签页\r\n * 2、切换标签页后，修改页面hash(#id?nojump)，实现刷新页面仍留在原标签页上\r\n * 3、点击tab或页面加载完毕时，确保副标题的文字内容和打开的tab标签名字一致\r\n * 4、隐藏显示地图\r\n *\r\n */\r\n/*\r\n 说明1：检测页面URL，得到三种结果\r\n 1）http://www.xxxx.com/about.html\r\n 2）http://www.xxxx.com/about.html?id=item3\r\n//----------------------------已弃用，换成通常大家用的#! 3）http://www.xxxx.com/about.html[?id=item3]#item5?nojump   ([]代表可选)\r\n 3）http://www.xxxx.com/about.html[?id=tab1]#!tab2   ([]代表可选)\r\n 第一种结果，是页面默认情况，自动打开第一个选项卡，不用处理，并且在正式开发中，菜单栏的链接不会这么写的\r\n 第二种结果，是菜单栏的链接的格式。之所以不直接用#!tab1，是因为这样页面不会刷新。\r\n    但因为菜单栏也没有关联下面的tab点击事件，所以会出现第一次点击这种链接是如个人简介（……#!introduce）时，页面刷新打开；然后再次点击，如资质荣誉(……#!introduce#!honor)时,页面会没有反应。故这里采用了(?id=)的方式传参，保证页面会刷新。\r\n 第三种结果，是点击tab标签后修改hash用来保存标签打开情况产生的值，使用#!是为了不触发锚点跳转事件。（原理：随便加个后缀，使浏览器找不到指定id就不跳转了）。之所以修改hash不修改href，是因为一旦修改href则页面必刷新。\r\n 得到这三种结果后，1)无需处理，2)3)两种情况，如果有#!,说明在做了切换标签的操作，就以它为准，若无，以?id=为准。然后通过js的一个方法截取字符串，根据得到的值打开指定的标签。\r\n\r\n 说明2：传参\r\n 1）?id= 菜单栏的连接是通过后台传的值，无需处理。\r\n 2）#!tab2 需要编写js事件，在点击tab的时候修改页面hash\r\n\r\n 说明3：修改副标题\r\n 页面加载完毕时和点击tab时，都要修改。\r\n\r\n 说明4、打开地图\r\n 百度地图和bootstrap有冲突，直接放到tab content中会导致地图指定地点不居中。同时还会有一些样式上的错位（已在css中修正）\r\n 解决办法：把地图放到tab的下面，默认隐藏，页面刷新或点击tab时，检测到打开的是【联系方式】即显示。\r\n 隐藏方式选择了{visibility:hidden;margin-bottom:-450px}是因为使用{display:none}也会导致和上面一样的指定地点不居中的问题\r\n */\r\n\r\n$(document).ready(function(){\r\n    //得到页面url\r\n    var url = document.location.toString();\r\n    var xhtab = $(\"#xhTab\");\r\n    var newTabObj;\r\n\r\n    //url可能是 ?id=tab1 或 [?id=tab1]#!tab2\r\n    //当有 #! 存在时，以 #!tab2 为准，打开指定标签。\r\n    //当无 #! 但有 ?id= 时，以 ?id=tab1 为准，打开指定标签。（若两者都无，无需做任何处理，默认打开第一个标签）\r\n\r\n    //用到了indexOf()和split()[]方法，忘记使用方法请自行百度\r\n    if (url.indexOf(\"#!\")>0) {\r\n        newTabObj = xhtab.find('a[href=\"'+'#'+url.split('#')[1]+'\"]').tab('show');\r\n    }else if (url.indexOf(\"?id=\")>0) {\r\n        newTabObj = xhtab.find('a[href=\"'+'#'+url.split('?id=')[1]+'\"]').tab('show');\r\n    }\r\n    //修改副标题为新打开标签的标题\r\n    if(newTabObj){\r\n        $(\".public-item-header h1\").html(newTabObj.html());\r\n    }\r\n    //若当前标签是“联系方式”则显示地图\r\n    if(newTabObj&&newTabObj.html()==\"联系方式\"){\r\n        $(\"#dituContent\").css(\"visibility\",\"visible\").css(\"margin-bottom\",\"50px\");\r\n    }\r\n\r\n    //标签页的钩子函数\r\n    xhtab.find('a[data-toggle=\"tab\"]').on(\"shown.bs.tab\", function (e) {\r\n        // 修改页面hash，以便刷新页面仍保留在当前标签页\r\n        //window.location.hash = e.target.hash+\"?nojump\";\r\n        //采用 #!方式\r\n        var href = window.location.href;\r\n        href = href.indexOf(\"#!\")?href.split(\"#!\")[0]:href;\r\n        window.location.href =  href+\"#!\"+e.target.hash.split(\"#\")[1];\r\n        // 获取已激活的标签页的名称\r\n        var activeTab = $(e.target).text();\r\n        // 修改副标题为新激活标签的标题\r\n        $(\".public-item-header h1\").html(activeTab);\r\n        // 若当前标签是“联系方式”则显示地图，否则隐藏\r\n        if(activeTab==\"联系方式\"){\r\n            $(\"#dituContent\").css(\"visibility\",\"visible\").css(\"margin-bottom\",\"50px\");\r\n        }else {\r\n            $(\"#dituContent\").css(\"visibility\",\"hidden\").css(\"margin-bottom\",\"-450px\");\r\n        }\r\n    });\r\n});\r\n\r\n/**\r\n * 添加动画 animate.css\r\n */\r\n(function($){\r\n    $.fn.extend({\r\n        animateCss: function (animationName) {\r\n            var animationEnd = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend';\r\n            $(this).addClass('animated ' + animationName).one(animationEnd, function() {\r\n                $(this).removeClass('animated ' + animationName);\r\n            });\r\n        }\r\n    });\r\n})(jQuery);\r\n\r\n\r\n"]}